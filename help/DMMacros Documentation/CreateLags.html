<!DOCTYPE html>

<html>
<head>
<title>%CreateLags</title>
<style>
pre {display: block}
</style>
<body>
<h1>MACRO %CreateLags</h1>
<pre>Version: 1.00                                                                                                           </pre>
<pre>Author: Daniel Mastropietro                                                                                             </pre>
<pre>Created: 20-Aug-04                                                                                                      </pre>
<pre>Modified: 20-Aug-04                                                                                                     </pre>
<pre>                                                                                                                        </pre>
<h3>DESCRIPTION:</h3>
<pre>This macro creates, in the input dataset, a set of lagged variables                                                                                          </pre>
<pre>(lags 1 to n) of a given set of variables.                                                                                          </pre>
<pre>The process can be done by BY variables.                                                                                          </pre>
<pre>                                                                                                                        </pre>
<h3>USAGE:</h3>
<pre>%CreateLags(                                                                                          </pre>
<pre>          data,                         /* Input dataset */                                         </pre>
<pre>          n=1,                          /* Number of lags to compute */                              </pre>
<pre>          var=_ALL_,                    /* Variables to process */                                  </pre>
<pre>          by=,                          /* By variables by which the process is performed */                              </pre>
<pre>          sortby=,                      /* Variables defining the order of the obs. by the by variables */                              </pre>
<pre>          suffix=_,                     /* String to separate the name of the variable with the lag number */                              </pre>
<pre>          log=1);                       /* Show messages in the log? */                              </pre>
<pre>                                                                                                    </pre>
<h3>REQUIRED PARAMETERS:</h3>
<pre>- data:                       Input dataset. NO data options can be specified.                                                            </pre>
<pre>                                                                                                                        </pre>
<h3>OPTIONAL PARAMETERS:</h3>
<pre>- var:                        List of variables to lag.                                                                 </pre>
<pre>                              default: _ALL_                                                                            </pre>
<pre>                                                                                                                        </pre>
<pre>- by:                         List of variables by which the computation of the lagged variables                                                            </pre>
<pre>                              is done.                                                                                  </pre>
<pre>                                                                                                                        </pre>
<pre>- sortby:                     List of variables by which the observations are sorted for each                                                            </pre>
<pre>                              combination of the BY variables. These variables define what comes                                                            </pre>
<pre>                              first and what comes next, and thus define the values of the lagged                                                            </pre>
<pre>                              variables.                                                                                </pre>
<pre>                                                                                                                        </pre>
<pre>- suffix:                     String to use for the name of the lagged variable to separate the                                                            </pre>
<pre>                              name of the variable being lagged and the lag number.                                                            </pre>
<pre>                              default: '_'                                                                              </pre>
<pre>                              (ex: x_1, x_2 will be the lags of variable x)                                                            </pre>
<pre>                                                                                                                        </pre>
<pre>- log:                        Show messages in the log?                                                                 </pre>
<pre>                              Possible values: 0 => No, 1 => Yes.                                                            </pre>
<pre>                              default: 1                                                                                </pre>
<pre>                                                                                                                        </pre>
<h3>NOTES:</h3>
<pre>1.- The variables containing the lagged values are created in the input dataset and are                                                                                          </pre>
<pre>placed right after the original variable being lagged.                                                                                          </pre>
<pre>Their names are formed by adding the numbers 1 through n after the name of the variable                                                                                          </pre>
<pre>being lagged, and using SUFFIX to separate the name from the number.                                                                                          </pre>
<pre>(ex., with the default value of SUFFIX, lagged variables of x are named x_1, x_2, ..., x_n.)                                                                                           </pre>
<pre>                                                                                                                        </pre>
<pre>2.- If the variables containing the lagged values of a variable already exist in the                                                                                          </pre>
<pre>input dataset, they are overwritten.                                                                                          </pre>
<pre>                                                                                                                        </pre>
<h3>OTHER MACROS AND MODULES USED IN THIS MACRO:</h3>
<pre>- %CreateInteractions                                                                                                   </pre>
<pre>- %CreatePrevPostVar                                                                                                    </pre>
<pre>                                                                                                                        </pre>
<h3>EXAMPLES:</h3>
<pre>1.- %CreateLags(A, n=3, var=x y, by=groupID, sortby=mth, suffix=);                                                                                          </pre>
<pre>This creates the variables X1, X2, X3, Y1, Y2, Y3 in dataset A containing the                                                                                          </pre>
<pre>1- to 3-lagged values of variables X and Y respectively, by variable GROUPID.                                                                                          </pre>
<pre>The order defining the lagged values is given by the variable MTH, which                                                                                          </pre>
<pre>establishes the order of the observations for each value of the by variable GROUPID.                                                                                          </pre>
<body>
</html>
